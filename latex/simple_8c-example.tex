\doxysection{simple.\+c}
\hypertarget{simple_8c-example}{}\label{simple_8c-example}This is an example demonstrating libtui\+\_\+draw, \doxylink{structlibtui__renderer}{libtui\+\_\+renderer}, libtui\+\_\+keyboard and libtui\+\_\+term\+\_\+control modules with an example of how to handle errors properly.


\begin{DoxyCodeInclude}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ <stdio.h>}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ "{}../lib/libtui.h"{}}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordtype}{void}\ cleanup()}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{group__libtui__term__control_ga5a2bc54454c3cb934f251d86e5e0abd4}{libtui\_show\_cursor}}();}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordtype}{void}\ rerr(\textcolor{keyword}{enum}\ \mbox{\hyperlink{group__renderer_gaf0a334e1a27ec6414c8b7dee9e860a01}{LIBTUI\_RENDERER\_ERR}}\ res)}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{if}\ (res\ !=\ \mbox{\hyperlink{group__renderer_ggaf0a334e1a27ec6414c8b7dee9e860a01ad917f8f3dae59a1f659b7e12f34acf6b}{RENDERER\_ERROR\_OK}})\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ fprintf(stderr,\ \textcolor{stringliteral}{"{}Error:\ \%s\(\backslash\)n"{}},\ \mbox{\hyperlink{group__renderer_gaf71ab1bb02eeb42b433d5d373af64536}{libtui\_renderer\_err\_str}}(res));}
\DoxyCodeLine{\ \ \ \ \ \ \ \ cleanup();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ exit(-\/1);}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordtype}{void}\ derr(\textcolor{keyword}{enum}\ \mbox{\hyperlink{group__draw_gae1b2c04e9a8e0a3079823656a2393077}{LIBTUI\_DRAW\_ERR}}\ res)}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{if}\ (res\ !=\ \mbox{\hyperlink{group__draw_ggae1b2c04e9a8e0a3079823656a2393077a2a2cd3a725d1b981cabd2135326cac5a}{DRAW\_ERROR\_OK}})\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ fprintf(stderr,\ \textcolor{stringliteral}{"{}Error:\ \%s\(\backslash\)n"{}},\ \mbox{\hyperlink{group__draw_ga4141545ea4b04bbb6d58f32b29631304}{libtui\_draw\_err\_str}}(res));}
\DoxyCodeLine{\ \ \ \ \ \ \ \ exit(-\/2);}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordtype}{int}\ main(\textcolor{keywordtype}{int}\ argc,\ \textcolor{keywordtype}{char}\ *argv[])}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ atexit(cleanup);}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structlibtui__renderer}{libtui\_renderer}}\ *r\ =\ NULL;}
\DoxyCodeLine{\ \ \ \ rerr(\mbox{\hyperlink{group__renderer_ga75dbd6eec99785f5deea930ea6c4cef5}{libtui\_renderer\_create}}(50,\ 22,\ \&r));}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ derr(\mbox{\hyperlink{group__draw_ga45e0a297729c5cd9227aa6ff326ef827}{libtui\_draw\_clear\_with\_char}}(r,\ \textcolor{charliteral}{'\_'}));}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{size\_t}\ x\ =\ 0;}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{size\_t}\ y\ =\ 0;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{group__libtui__term__control_ga352825fdefe832d35e839b8dbe65c32c}{libtui\_true\_clear}}();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{group__libtui__term__control_ga9bd042e75e2a2174c7984774b073cbef}{libtui\_hide\_cursor}}();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{while}\ (1)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{group__libtui__keyboard_gab7e466ac8645ecb22c448d5cdaa56ca2}{libtui\_keyboard\_is\_kb\_hit}}())\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{enum}\ \mbox{\hyperlink{group__libtui__keyboard_ga60a458814375f3be40f225d525ffbe54}{LIBTUI\_KEYCODE}}\ key\ =\ \mbox{\hyperlink{group__libtui__keyboard_gabb37ca9b1710b93245e9e6846f82871c}{libtui\_keyboard\_get\_key}}();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (key\ ==\ KEY\_J)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ++y;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (key\ ==\ KEY\_K)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ -\/-\/y;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (key\ ==\ KEY\_H)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ -\/-\/x;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (key\ ==\ KEY\_L)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ++x;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (key\ ==\ KEY\_ESC)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ derr(\mbox{\hyperlink{group__draw_gabb66bed6d9acdcd71e5008493b48e76c}{libtui\_draw\_single\_char}}(r,\ \textcolor{charliteral}{'F'},\ x,\ y));}
\DoxyCodeLine{\ \ \ \ \ \ \ \ rerr(\mbox{\hyperlink{group__renderer_ga9967ce31c3ab2e8af6ff1d4310bd5d92}{libtui\_renderer\_render}}(r));}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{group__libtui__term__control_ga5a2bc54454c3cb934f251d86e5e0abd4}{libtui\_show\_cursor}}();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ rerr(\mbox{\hyperlink{group__renderer_ga86e5632e28f07b2290bd1067443bed43}{libtui\_renderer\_free}}(r));}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{\}}

\end{DoxyCodeInclude}
 